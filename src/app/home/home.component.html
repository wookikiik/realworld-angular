<div class="home-page">
  <div class="banner" *showAuthed="false">
    <div class="container">
      <h1 class="logo-font">conduit</h1>
      <p>A place to share your knowledge.</p>
    </div>
  </div>

  <div class="container page">
    <div class="row">
      <div class="col-md-9">
        <div class="feed-toggle">
          <ul class="nav nav-pills outline-active">
            <li class="nav-item">
              <a
                class="nav-link"
                [ngClass]="{
                  disable: isLogined,
                  active: listConfig.type === 'feed'
                }"
                (click)="setListTo('feed')"
                >Your Feed</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                [ngClass]="{
                  active: listConfig.type === 'all' && !listConfig.filters.tag
                }"
                (click)="setListTo('all')"
                >Global Feed</a
              >
            </li>
            <li
              *ngIf="listConfig.type == 'all' && listConfig.filters.tag"
              class="nav-item"
            >
              <a
                class="nav-link active"
                (click)="setListTo('all', { tag: listConfig.filters.tag })"
                >#{{ listConfig.filters.tag }}</a
              >
            </li>
          </ul>
        </div>
        <article-list [config]="listConfig"></article-list>
      </div>

      <div class="col-md-3">
        <div class="sidebar">
          <p>Popular Tags</p>
          <ng-container *ngIf="tags$ | async as tags; else tagLoading">
            <div class="tag-list">
              <a
                *ngFor="let tag of tags.tags"
                (click)="setListTo('all', { tag: tag })"
                class="tag-default tag-pill"
                >{{ tag }}</a
              >
            </div>
          </ng-container>
          <ng-template #tagLoading>
            <div>Loading tags...</div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
